<header>
   
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Peliculas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- SCRIPTS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</header>
<body>

      
          <div *ngFor="let item of peliculaExiste">
            <p>{{item.nombre}}</p>
            <p>{{item.tipo}}</p>
            <p>{{item.fechaEstreno}}</p>
            <p>{{item.cantPublic}}</p>
            <img [src]="item.fotoPelicula" class="img-thumbnail" style="height: 80px;width: 80px;">



          </div>

          <div *ngIf="peliculaNoExiste">
              {{textopeliculaNoExiste}}

          </div>




        <nav class="navbar navbar-sm navbar-dark bg-dark">
            <div class="container-fluid">
    
              <div class="navbar-header" id="navHeader">
                  <!-- href="#" -->
                      <a class="navbar-brand" style="color:white" (click)="MuestroTabla()" >Listado de Peliculas</a>
              </div>
                    
              <div class="input-group mb-3">
              
                <input type="text" class="form-control" [(ngModel)]="peliculaBusqueda"  placeholder="Ingrese nombre a buscar" required >
             
             </div>
             <app-busqueda (lanzador)="mostrarBusqueda($event)" [peliculaBusqueda]="peliculaBusqueda"> </app-busqueda>
            <button class="btn btn-outline-success" (click)=MuestroLoginBOX()>Agregar pelicula
              <i class="glyphicon glyphicon-plus"></i>
            </button>
            </div>
        </nav>
        
      <br>


      <div class="login-box" *ngIf="loginBOX">
          <button class="close" (click)="CancelarEditar()">&times;</button>
        <br>
         <h1 *ngIf="!modificar">Agregar</h1>
         <h1 *ngIf="modificar">Modificar</h1>

        
          <div class="input-group mb-3">
              
             <input type="email" class="form-control" [(ngModel)]="pelicula.nombre"  placeholder="nombre" required >
          
          </div>
          
          <div class="input-group mb-3">
         
            <input  type="text" class="form-control" [(ngModel)]="pelicula.tipo"  placeholder="tipo" required>
  
        </div>
        <div class="input-group mb-3">
         
          <input  type="date" class="form-control" [(ngModel)]="pelicula.fechaEstreno"  placeholder="Fecha Estreno" required>

      </div>
      <div class="input-group mb-3">
         
        <input  type="number" class="form-control" [(ngModel)]="pelicula.cantPublic"  placeholder="Cantidad de Publico  " required>

    </div>
    <div class="input-group mb-3">
    <label>
      <span letraYcolor class="file-name" style="margin-left: -30%;">  <i class="fa fa-file-image-o"></i> Has click para seleccionar el avatar</span>
      
      <input style="opacity:0;" #imageInput
             type="file"

             accept="image/*"

             (change)="processFile(imageInput)">
  <!-- <p letraYcolor *ngIf="agregoimagenErrorMsg" class="faltaIMG">Debe ingresar imagen</p> -->
  
    </label>
  </div>  
            <button class="btn btn-outline-success btn-block" *ngIf="!modificar" (click)="agregarUsuario()">CREAR</button>
            <button (click)="GuardarEditar(pelicula)" *ngIf="modificar" class="btn btn-outline-warning" >Guardar</button>
            <button (click)="CancelarEditar()" *ngIf="modificar" class="btn btn-outline-primary" >Cancelar</button>
         
        </div>


    
      <!-- CREO TABLA -->

      <!--   -->
        <div class="container" *ngIf="muestroTabla">
          <br>
          <!-- <app-listado-de-usuarios [listaUsuarios]= "listaUsuarios"></app-listado-de-usuarios> -->
          <!-- <app-usuario-listado></app-usuario-listado> -->
          <br>
          <div *ngIf="isLoading" class="d-flex justify-content-center">
            <div class="spinner-border" role="status">
      
            </div>
          </div>
          <br>
          <app-listado-de-usuarios [listadoPeliculas]="listadoPeliculas" (editarUsuario)="EditarUsuario($event)" (borrarUsuario)="BorrarUsuario($event)"></app-listado-de-usuarios>

        </div>
    
    <!-- AGREGO LOS EVENTOS QUE VIENEN DE LISTADO, usa un indexOf para eliminar o editarlo. -->
    
    
    
    
    
    
    
   




</body>
